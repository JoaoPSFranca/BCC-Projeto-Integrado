<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/WEB-INF/template-cliente.xhtml">

    <ui:define name="style">
        <h:outputStylesheet name="/css/style_cadastros.css" />
    </ui:define>

    <ui:define name="content">
        <div class="atualiza">
            <!-- Formulário de Cadastro -->
            <h:form id="formCadastro" class="form-container">
                <p:growl id="growl" showDetail="true" />

                <h2>Cadastro de Pessoas</h2>

                <div class="input-container">
                    <span class="ui-float-label">
                        <p:inputText id="nome" value="#{pessoaController.pessoa.nome}" required="true" />
                        <p:outputLabel for="@previous" value="Nome:" />
                    </span>
                </div>

                <div class="input-container">
                    <span class="ui-float-label">
                        <p:inputText id="cpf" value="#{pessoaController.pessoa.cpf}" required="true" />
                        <p:outputLabel for="@previous" value="CPF:" />
                    </span>
                </div>

                <div class="input-container">
                    <span class="ui-float-label">
                        <p:inputText id="telefone" value="#{pessoaController.pessoa.telefone}" required="true" />
                        <p:outputLabel for="@previous" value="Telefone:" />
                    </span>
                </div>

                <div class="input-container">
                    <span class="ui-float-label">
                        <p:inputText id="login" value="#{pessoaController.pessoa.login}" required="true" />
                        <p:outputLabel for="@previous" value="Login:" />
                    </span>
                </div>

                <div class="input-container">
                    <span class="ui-float-label">
                        <p:password id="senha" value="#{pessoaController.pessoa.senha}" toggleMask="true" redisplay="true" />
                        <p:outputLabel for="@previous" value="Senha" />
                    </span>
                </div>

                <div class="input-container">
                    <p:outputLabel for="@next" value="Nível de Acesso" />
                    <p:selectOneMenu id="option" value="#{pessoaController.pessoa.nivelAcesso}">
                        <f:selectItem itemLabel="Selecione" itemValue="" />
                        <f:selectItem itemLabel="Administrador" itemValue="Administrador" />
                        <f:selectItem itemLabel="Cliente" itemValue="Cliente" />
                        <f:selectItem itemLabel="Funcionário" itemValue="Funcionario" />
                    </p:selectOneMenu>
                </div>

                <p:commandButton class="cadastrar" value="Cadastrar"
                                 update="@all growl"
                                 action="#{pessoaController.cadastroAdministrador()}" />
            </h:form>

            <!-- Tabela -->
            <h:form id="formTabela" class="form-tabela">
                <p:dataTable id="tabela" value="#{pessoaController.pessoas}" 
                             var="item" selectionMode="single"
                             selection="#{pessoaController.pessoaSelecionada}"
                             rowKey="#{item.codigo}"
                             paginator="true" paginatorPosition="top"
                             rows="5"
                             rowsPerPageTemplate="2,4,5,{ShowAll|'All'}">

                    <p:column headerText="Código">
                        <h:outputText value="#{item.codigo}" />
                    </p:column>

                    <p:column headerText="Nome">
                        <h:outputText value="#{item.nome}" />
                    </p:column>

                    <p:column headerText="Nível de Acesso">
                        <h:outputText value="#{item.nivelAcesso}" />
                    </p:column>

                    <p:column headerText="Login">
                        <h:outputText value="#{item.login}" />
                    </p:column>

                    <f:facet name="footer">
                        <p:commandButton value="Remover"
                                         update="formTabela:tabela growl"
                                         action="#{pessoaController.remover}" />
                    </f:facet>
                </p:dataTable>
            </h:form>
        </div>
    </ui:define>
</ui:composition>
